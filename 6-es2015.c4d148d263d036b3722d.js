(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Qimh:function(o,t,b){"use strict";b.r(t),b.d(t,"BooksModule",(function(){return y}));var e=b("SVse"),c=b("iInd"),s=b("hnLn"),i=b("1a3L"),r=b("zNQn"),n=b("8Y7J"),a=b("4H9A"),u=b("CZaM");const l=function(o){return["/authors",o]};function h(o,t){if(1&o&&(n.Hb(0,"a",3),n.cc(1),n.Gb()),2&o){const o=n.Pb().$implicit;n.Tb("routerLink",n.Xb(2,l,o.relationships.author.data.id)),n.ub(1),n.dc(o.relationships.author.data.attributes.name)}}function d(o,t){if(1&o&&(n.Hb(0,"span"),n.cc(1),n.Gb()),2&o){const o=t.$implicit;n.ub(1),n.ec("",o.id,", ")}}const p=function(o){return["/books",o]};function k(o,t){if(1&o&&(n.Hb(0,"tr"),n.Hb(1,"td"),n.cc(2),n.Gb(),n.Hb(3,"td"),n.Hb(4,"a",3),n.cc(5),n.Gb(),n.Gb(),n.Hb(6,"td"),n.cc(7),n.Qb(8,"date"),n.Gb(),n.Hb(9,"td"),n.bc(10,h,2,4,"a",4),n.Gb(),n.Hb(11,"td"),n.bc(12,d,2,1,"span",5),n.Gb(),n.Hb(13,"td"),n.Hb(14,"a",6),n.Hb(15,"small"),n.cc(16,"DELETE"),n.Gb(),n.Gb(),n.Gb(),n.Gb()),2&o){const o=t.$implicit;n.ub(2),n.dc(o.id),n.ub(2),n.Tb("routerLink",n.Xb(8,p,o.id)),n.ub(1),n.dc(o.attributes.title),n.ub(2),n.dc(n.Rb(8,6,o.attributes.date_published)),n.ub(3),n.Tb("ngIf",o.relationships.author.builded),n.ub(2),n.Tb("ngForOf",o.relationships.photos.data)}}let H=(()=>{class o{constructor(o,t,b,e){this.route=o,this.authorsService=t,this.booksService=b,this.photosService=e,o.queryParams.subscribe(({page:o})=>{b.all({page:{number:o||1},include:["author","photos"]}).subscribe(o=>{this.books=o},o=>console.info("error books controll",o))})}getAll(o){o.date_published={since:"1983-01-01",until:"2010-01-01"};let t=this.booksService.all({remotefilter:o,page:{number:1},include:["author","photos"]});t.subscribe(o=>{this.books=o,console.log("success books controller",this.books)},o=>console.info("error books controller",o)),t.toPromise().then(o=>console.log("books loaded PROMISE"))}delete(o){this.booksService.delete(o.id)}}return o.\u0275fac=function(t){return new(t||o)(n.Eb(c.a),n.Eb(i.a),n.Eb(s.a),n.Eb(r.a))},o.\u0275cmp=n.yb({type:o,selectors:[["demo-books"]],decls:18,vars:4,consts:[[3,"collection"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],[4,"ngFor","ngForOf"],["ng-click","delete(book)","title","not supported by demo server"]],template:function(o,t){1&o&&(n.Hb(0,"h3"),n.cc(1,"Books"),n.Gb(),n.Fb(2,"demo-collection-info",0),n.Hb(3,"table",1),n.Hb(4,"thead"),n.Hb(5,"tr"),n.Hb(6,"th"),n.cc(7,"ID"),n.Gb(),n.Hb(8,"th"),n.cc(9,"Title"),n.Gb(),n.Hb(10,"th"),n.cc(11,"Date Published"),n.Gb(),n.Hb(12,"th"),n.cc(13,"Author"),n.Gb(),n.Hb(14,"th"),n.cc(15,"Photos"),n.Gb(),n.Gb(),n.Gb(),n.bc(16,k,17,10,"tr",2),n.Gb(),n.Fb(17,"demo-collection-paginator",0)),2&o&&(n.ub(2),n.Tb("collection",t.books),n.ub(14),n.Tb("ngForOf",t.books.data)("ngForTrackBy",t.books.trackBy),n.ub(1),n.Tb("collection",t.books))},directives:[a.a,e.i,u.a,c.b,e.j],pipes:[e.d],encapsulation:2}),o})();var f=b("dC/6");function G(o,t){if(1&o&&(n.Hb(0,"li"),n.cc(1," URI: "),n.Hb(2,"a",4),n.cc(3),n.Gb(),n.Gb()),2&o){const o=t.$implicit;n.ub(2),n.Ub("href",o.attributes.uri,n.Zb),n.ub(1),n.dc(o.attributes.uri)}}function m(o,t){if(1&o&&(n.Hb(0,"ul"),n.bc(1,G,4,2,"li",3),n.Gb()),2&o){const o=n.Pb();n.ub(1),n.Tb("ngForOf",o.book.relationships.photos.data)}}const g=[{path:"",component:H},{path:":id",component:(()=>{class o{constructor(o,t,b,e){this.authorsService=o,this.booksService=t,this.photosService=b,this.route=e,e.params.subscribe(({id:o})=>{t.get(o,{include:["author","photos"]}).subscribe(o=>{this.book=o,console.log("success book",this.book)},o=>console.log("error books controll",o))})}getAuthorName(o){let t=o.relationships.author.data;return t.attributes?t.attributes.name:""}}return o.\u0275fac=function(t){return new(t||o)(n.Eb(i.a),n.Eb(s.a),n.Eb(r.a),n.Eb(c.a))},o.\u0275cmp=n.yb({type:o,selectors:[["demo-book"]],decls:36,vars:8,consts:[[3,"resource"],[4,"ngIf"],["routerLink","/books"],[4,"ngFor","ngForOf"],[3,"href"]],template:function(o,t){1&o&&(n.Hb(0,"h3"),n.cc(1),n.Gb(),n.Fb(2,"demo-resource-info",0),n.Hb(3,"ul"),n.Hb(4,"li"),n.cc(5,"Title: "),n.Hb(6,"strong"),n.cc(7),n.Gb(),n.Gb(),n.Hb(8,"li"),n.cc(9,"Date Published: "),n.Hb(10,"strong"),n.cc(11),n.Qb(12,"date"),n.Gb(),n.Gb(),n.Gb(),n.Hb(13,"h4"),n.cc(14,"Author (one)"),n.Gb(),n.Hb(15,"p"),n.Hb(16,"small"),n.cc(17,"This a relationship with "),n.Hb(18,"i"),n.cc(19,"hasMany:false"),n.Gb(),n.Gb(),n.Gb(),n.Hb(20,"ul"),n.Hb(21,"li"),n.cc(22,"Name: "),n.Hb(23,"strong"),n.cc(24),n.Gb(),n.Gb(),n.Gb(),n.Hb(25,"h4"),n.cc(26,"Photos (many)"),n.Gb(),n.Hb(27,"p"),n.Hb(28,"small"),n.cc(29,"This a relationship with "),n.Hb(30,"i"),n.cc(31,"hasMany:true"),n.Gb(),n.Gb(),n.Gb(),n.bc(32,m,2,1,"ul",1),n.Hb(33,"p"),n.Hb(34,"a",2),n.cc(35,"Volver"),n.Gb(),n.Gb()),2&o&&(n.ub(1),n.ec("Book #",t.book.id,""),n.ub(1),n.Tb("resource",t.book),n.ub(5),n.dc(t.book.attributes.title),n.ub(4),n.dc(n.Rb(12,6,t.book.attributes.date_published)),n.ub(13),n.dc(t.getAuthorName(t.book)),n.ub(8),n.Tb("ngIf",t.book.relationships.photos.builded))},directives:[f.a,e.j,c.b,e.i],pipes:[e.d],encapsulation:2}),o})()}];let v=(()=>{class o{}return o.\u0275mod=n.Cb({type:o}),o.\u0275inj=n.Bb({factory:function(t){return new(t||o)},imports:[[c.c.forChild(g)],c.c]}),o})();var T=b("SuZp");let y=(()=>{class o{}return o.\u0275mod=n.Cb({type:o}),o.\u0275inj=n.Bb({factory:function(t){return new(t||o)},imports:[[e.b,T.a,v]]}),o})()}}]);